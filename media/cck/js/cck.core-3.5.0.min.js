/* Copyright (C) 2013 SEBLOD. All Rights Reserved. */
if("undefined"==typeof JCck)var JCck={};!function(e){function t(t,i){return e.inArray(t,i)>=0?1:0}function i(e){return 1==e?0:1}"undefined"==typeof JCck.Core&&(JCck.Core={}),JCck.Core.doTask=function(e,t,i){"undefined"==typeof i&&(i=document.getElementById("adminForm"));var a=i[e],n=t.split(".");if(a){for(var s=0;!0;s++){var r=i["cb"+s];if(!r)break;r.checked=!1}a.checked=!0,i.boxchecked.value=1,"update"==n[0]&&""!=n[1]&&(t=n[0],jQuery("#seblod_form").append('<input type="hidden" id="task2" name="task2" value="'+n[1]+'">')),Joomla.submitbutton(t)}return!1},JCck.Core.executeFunctionByName=function(e,t){for(var i=[].slice.call(arguments).splice(2),a=e.split("."),n=a.pop(),s=0;s<a.length;s++)t=t[a[s]];return t[n].apply(this,i)},e.fn.isStillReady=function(){return e(this).hasClass("busy")?!1:(e(this).addClass("busy"),!0)},e.fn.deepestHeight=function(){var t=0;e(this).each(function(){t=Math.max(t,e(this).height())}).height(t)},e.fn.clearForm=function(){return this.each(function(){e(":input",this).each(function(){var e=this.type,t=this.tagName.toLowerCase();"text"==e||"password"==e||"textarea"==t?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==t&&(this.value="")})})},e.fn.conditionalState=function(t){var i=e(this),a=t.rule||"";if(t.conditions.length>1){var n="or"==a?1:t.conditions.length,s={};jQuery.each(t.conditions,function(a,r){var c=e("#"+r.trigger);if(r.trigger&&null!=c){var o=r.type;if("isChanged"==o)o="change";else if("isPressed"==o)o="click";else{s[c.attr("id")]=parseInt(c.myConditional(r.type,r));var u=0;jQuery.each(s,function(e,t){1==t&&u++}),l=u>=n?1:0,jQuery.each(t.states,function(e,t){i.myState(0,l,t.type,t)}),o="change"}c.live(o,function(){s[c.attr("id")]=parseInt(c.myConditional(r.type,r));var e=0;jQuery.each(s,function(t,i){1==i&&e++}),l=e>=n?1:0,jQuery.each(t.states,function(e,t){i.myState(1,l,t.type,t)})})}})}else{var r=e("#"+t.conditions[0].trigger);if(t.conditions[0].trigger&&null!=r){var c=t.conditions[0].type;if("isChanged"==c)c="change";else if("isPressed"==c)c="click";else{var l=r.myConditional(t.conditions[0].type,t.conditions[0]);jQuery.each(t.states,function(e,t){i.myState(0,l,t.type,t)}),c="change"}r.live(c,function(){var e=r.myConditional(t.conditions[0].type,t.conditions[0]);jQuery.each(t.states,function(t,a){i.myState(1,e,a.type,a)})})}}},e.fn.conditionalStateLegacy=function(t){var i=e("#"+t.conditions._0isEqual.trigger),a=e(this);if(t.conditions._0isEqual.trigger&&null!=i){var n=i.myConditional("isEqual",t.conditions._0isEqual);jQuery.each(t.states,function(e,t){a.myState(0,n,e.substr(2),t)}),i.live("change",function(){var e=i.myConditional("isEqual",t.conditions._0isEqual);jQuery.each(t.states,function(t,i){a.myState(1,e,t.substr(2),i)})})}},e.fn.conditionalStates=function(t){var i=e(this),a=t.length;if(void 0===a)t.rule?i.conditionalState(t):i.conditionalStateLegacy(t);else for(var n=0;a>n;n++)t[n].rule?i.conditionalState(t[n]):i.conditionalStateLegacy(t[n])},e.fn.myAttr=function(t){var i=e(this);if(i.is("select"))var a=e.trim(i.find("option:selected").attr(t));else if(i.is("fieldset"))var a=e.trim(i.find("input:checked").attr(t));else var a=e.trim(i.attr(t));return a},e.fn.myConditional=function(a,n){var s=this.attr("id"),r=0;if(!e(this).length)return 0;switch(a){case"callFunction":var c=n.value;window[c]&&(r=window[c]());break;case"isChanged":case"isPressed":return 1;case"isFilled":case"isEmpty":void 0!==e(this).myVal()&&null!==e(this).myVal()&&""!=e(this).myVal()&&(r=1),"isEmpty"==a&&(r=i(r));break;case"isEqual":case"isDifferent":default:var l=n.value.split(",");if("FIELDSET"==this[0].tagName){var o="";e("#"+s+" input:checked").length>1?e("#"+s+" input:checked").each(function(){o=parseInt(t(e(this).val(),l)),r+=o}):(1==e("#"+s+" input:checked").length&&(o=e("#"+s+" input:checked").val()),r=t(o,l))}else r=t(this.val(),l);r=r>0?1:0,"isDifferent"==a&&(r=i(r))}return r},e.fn.myState=function(t,a,n,s){var r=this.attr("id")+s.selector,c=s.value,l="0"==s.revert?0:1;switch(n){case"hasClass":case"hasNotClass":"hasNotClass"==n&&(a=i(a),l=1),1==a?e("#"+r).addClass(c):l&&e("#"+r).removeClass(c);break;case"isEnabled":case"isDisabled":"isDisabled"==n&&(a=i(a),l=1),1==a?e("#"+r).prop("disabled",!1):l&&e("#"+r).prop("disabled",!0);break;case"isFilled":case"isFilledBy":case"isEmpty":"isEmpty"==n&&(a=i(a),l=1);var o=e("#"+r).attr("id"),u="";if(1==a){if("isFilledBy"==n){var d=c.split("@");c=d[1]?e("#"+d[0]).myAttr(d[1]):e("#"+c).myVal()}u=e("#"+r).is(":input")||e("#"+r).is("fieldset")?"myVal":"text",e("#"+r)[u](c),e("#_"+o).length&&(u=e("#_"+o).is(":input")?"myVal":"text",e("#_"+o)[u](c))}else l&&(u=e("#"+r).is(":input")||e("#"+r).is("fieldset")?"val":"text",e("#"+r)[u](""),e("#_"+o).length&&(u=e("#_"+o).is(":input")?"val":"text",e("#_"+o)[u]("")));break;case"isComputed":break;case"triggers":var o=e("#"+r).attr("id");e("#"+o).trigger(c);break;case"isVisible":case"isHidden":default:"isHidden"==n&&(a=i(a),l=1),0==t&&(c=""),1==a?"fade"==c?e("#"+r).fadeIn():"slide"==c?e("#"+r).slideDown():e("#"+r).show():l&&("fade"==c?e("#"+r).fadeOut():"slide"==c?e("#"+r).slideUp():e("#"+r).hide())}},e.fn.myVal=function(t){if(1==arguments.length)var i=1;else var i=0,t="";if(!this[0])return"";var a=this[0];if("FIELDSET"!=a.tagName&&"DIV"!=a.tagName)return"SELECT"==a.tagName&&this.prop("multiple")?i?this.val(t?t.split(","):t):this.val():i?this.val(t):this.val();var n="#"+this.attr("id"),s="";if(t)e(n+" input").val(t.split(","));else{if(e(n+" input:checked").length>1)return e(n+" input:checked").each(function(){s+=","+e(this).val()}),s.substr(1);if(1==e(n+" input:checked").length)return e(n+" input:checked").val()}}}(jQuery);